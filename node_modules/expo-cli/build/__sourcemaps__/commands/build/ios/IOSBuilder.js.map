{"version":3,"sources":["commands/build/ios/IOSBuilder.ts"],"names":["IOSBuilder","BaseBuilder","run","validateProject","checkForBuildInProgress","options","type","prepareCredentials","publishedExpIds","ensureProjectIsPublished","publicUrl","checkStatusBeforeBuild","build","bundleIdentifier","manifest","sdkVersion","validateIcon","XDLError","utils","checkIfSdkIsSupported","PLATFORMS","IOS","getAppleCtx","appleCtx","apple","setup","authenticate","bestEffortAppleCtx","ctx","appleId","ensureAppleCtx","nonInteractive","parent","confirm","name","message","chalk","green","username","owner","user","experienceName","slug","context","Context","init","projectDir","clearAndRevokeCredentialsIfRequested","produceCredentials","e","bold","red","credentials","ios","getAllCredentials","appCredentials","getAppCredentials","hasAppleCtx","ensureAppExists","enablePushNotifications","distCertFromParams","SetupIosDist","distributionCert","getDistCert","CommandError","pushKeyFromParams","SetupIosPush","provisioningProfileFromParams","teamId","SetupIosProvisioningProfile","distCert","projectMetadata","clearCredentials","clearDistCert","clearPushKey","clearPushCert","clearProvisioningProfile","shouldClearAnything","credsToClear","determineCredentialsToClear","shouldRevokeOnApple","revokeCredentials","RemoveIosDist","removeSpecific","pushKey","getPushKey","RemoveIosPush","provisioningProfile","getProvisioningProfile","RemoveProvisioningProfile","pushCert","getPushCert","deletePushCert","credsToClearAll","Boolean","undefined","ensureReleaseExists","platform","icon","err"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAKA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAKA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;;;AAMA,MAAMA,UAAN,SAAyBC,sBAAzB,CAAqC;AAAA;AAAA;;AAAA;AAAA;;AAGnC,QAAMC,GAAN,GAA2B;AACzB,UAAM,KAAKC,eAAL,EAAN;AACA,UAAM,KAAKC,uBAAL,EAAN;;AACA,QAAI,KAAKC,OAAL,CAAaC,IAAb,KAAsB,SAA1B,EAAqC;AACnC,YAAM,KAAKC,kBAAL,EAAN;AACD;;AACD,UAAMC,eAAe,GAAG,MAAM,KAAKC,wBAAL,EAA9B;;AACA,QAAI,CAAC,KAAKJ,OAAL,CAAaK,SAAlB,EAA6B;AAC3B,YAAM,KAAKC,sBAAL,EAAN;AACD;;AACD,UAAM,KAAKC,KAAL,CAAWJ,eAAX,CAAN;AACD;;AAED,QAAML,eAAN,GAAwB;AACtB,UAAMU,gBAAgB,GAAG,oBAAI,KAAKC,QAAT,EAAmB,sBAAnB,CAAzB;AACA,UAAMC,UAAU,GAAG,KAAKD,QAAL,CAAcC,UAAjC;AAEA,UAAM,KAAKC,YAAL,EAAN;;AAEA,QAAI,CAACH,gBAAL,EAAuB;AACrB,YAAM,KAAII,eAAJ,EACJ,iBADI,EAEH;oGAFG,CAAN;AAKD;;AACD,UAAMC,KAAK,GAACC,qBAAN,CAA4BJ,UAA5B,EAAyCK,uBAAUC,GAAnD,CAAN;AACD;;AAED,QAAMC,WAAN,GAA6C;AAC3C,QAAI,CAAC,KAAKC,QAAV,EAAoB;AAClB,YAAMC,KAAK,GAACC,KAAN,EAAN;AACA,WAAKF,QAAL,GAAgB,MAAMC,KAAK,GAACE,YAAN,CAAmB,KAAKrB,OAAxB,CAAtB;AACD;;AACD,WAAO,KAAKkB,QAAZ;AACD,GAtCkC,CAwCnC;AACA;;;AACA,QAAMI,kBAAN,CAAyBC,GAAzB,EAAuCf,gBAAvC,EAAiE;AAC/D,QAAI,KAAKR,OAAL,CAAawB,OAAjB,EAA0B;AACxB,aAAO,MAAMD,GAAG,CAACE,cAAJ,CAAmB,KAAKzB,OAAxB,CAAb;AACD;;AAED,UAAM0B,cAAc,GAAG,KAAK1B,OAAL,CAAa2B,MAAb,IAAuB,KAAK3B,OAAL,CAAa2B,MAAb,CAAoBD,cAAlE;;AACA,QAAIA,cAAJ,EAAoB;AAClB,aAAO,IAAP;AACD;;AAED,UAAM;AAAEE,MAAAA;AAAF,QAAc,MAAM,uBAAO,CAC/B;AACE3B,MAAAA,IAAI,EAAE,SADR;AAEE4B,MAAAA,IAAI,EAAE,SAFR;AAGEC,MAAAA,OAAO,EAAG,wFAAuFtB,gBAAiB;AAHpH,KAD+B,CAAP,CAA1B;;AAOA,QAAIoB,OAAJ,EAAa;AACX,aAAO,MAAML,GAAG,CAACE,cAAJ,CAAmB,KAAKzB,OAAxB,CAAb;AACD,KAFD,MAEO;AACL,0BACE+B,iBAAMC,KAAN,CACE,sKADF,CADF;AAKD;AACF;;AAED,QAAM9B,kBAAN,GAA2B;AAAA;;AACzB;AACA,UAAM+B,QAAQ,2BAAG,KAAKxB,QAAL,CAAcyB,KAAjB,qFAA0B,KAAKC,IAA/B,+CAA0B,WAAWF,QAAnD;AACA,UAAMG,cAAc,GAAI,IAAGH,QAAS,IAAG,KAAKxB,QAAL,CAAc4B,IAAK,EAA1D;AACA,UAAM7B,gBAAgB,GAAG,oBAAI,KAAKC,QAAT,EAAmB,sBAAnB,CAAzB;AACA,UAAM6B,OAAO,GAAG,KAAIC,kBAAJ,GAAhB;AACA,UAAMD,OAAO,CAACE,IAAR,CAAa,KAAKC,UAAlB,CAAN;AACA,UAAM,KAAKnB,kBAAL,CAAwBgB,OAAxB,EAAiC9B,gBAAjC,CAAN;AACA,UAAM,KAAKkC,oCAAL,CAA0CJ,OAA1C,EAAmD;AAAEF,MAAAA,cAAF;AAAkB5B,MAAAA;AAAlB,KAAnD,CAAN;;AAEA,QAAI;AACF,YAAM,KAAKmC,kBAAL,CAAwBL,OAAxB,EAAiCF,cAAjC,EAAiD5B,gBAAjD,CAAN;AACD,KAFD,CAEE,OAAOoC,CAAP,EAAU;AACV,0BACEb,iBAAMc,IAAN,CAAWC,GAAX,CACE,sHADF,CADF;AAKA,YAAMF,CAAN;AACD,KATD,SASU;AACR,YAAMG,WAAW,GAAG,MAAMT,OAAO,CAACU,GAAR,CAAYC,iBAAZ,EAA1B;AACA,6CAA0Bb,cAA1B,EAA0C5B,gBAA1C,EAA4DuC,WAA5D;AACD;AACF;;AAED,QAAMJ,kBAAN,CAAyBpB,GAAzB,EAAuCa,cAAvC,EAA+D5B,gBAA/D,EAAyF;AACvF,UAAM0C,cAAc,GAAG,MAAM3B,GAAG,CAACyB,GAAJ,CAAQG,iBAAR,CAA0Bf,cAA1B,EAA0C5B,gBAA1C,CAA7B;;AAEA,QAAIe,GAAG,CAAC6B,WAAJ,EAAJ,EAAuB;AACrB,YAAMjC,KAAK,GAACkC,eAAN,CACJ9B,GAAG,CAACL,QADA,EAEJ;AAAEkB,QAAAA,cAAF;AAAkB5B,QAAAA;AAAlB,OAFI,EAGJ;AAAE8C,QAAAA,uBAAuB,EAAE;AAA3B,OAHI,CAAN;AAKD;;AAED,UAAMC,kBAAkB,GAAG,MAAM,0CAAsB,KAAKvD,OAA3B,CAAjC;;AACA,QAAIuD,kBAAJ,EAAwB;AACtB,YAAM,0CAAsBhC,GAAtB,EAA2B2B,cAA3B,EAA2CK,kBAA3C,CAAN;AACD,KAFD,MAEO;AACL,YAAM,oCAAsBhC,GAAtB,EAA2B,KAAIiC,4BAAJ,EAAiB;AAAEpB,QAAAA,cAAF;AAAkB5B,QAAAA;AAAlB,OAAjB,CAA3B,CAAN;AACD;;AAED,UAAMiD,gBAAgB,GAAG,MAAMlC,GAAG,CAACyB,GAAJ,CAAQU,WAAR,CAAoBtB,cAApB,EAAoC5B,gBAApC,CAA/B;;AACA,QAAI,CAACiD,gBAAL,EAAuB;AACrB,YAAM,KAAIE,uBAAJ,EACJ,0BADI,EAEH,+DAFG,CAAN;AAID;;AAED,UAAMC,iBAAiB,GAAG,MAAM,gDAAqB,KAAK5D,OAA1B,CAAhC;;AACA,QAAI4D,iBAAJ,EAAuB;AACrB,YAAM,gDAAqBrC,GAArB,EAA0B2B,cAA1B,EAA0CU,iBAA1C,CAAN;AACD,KAFD,MAEO;AACL,YAAM,oCAAsBrC,GAAtB,EAA2B,KAAIsC,4BAAJ,EAAiB;AAAEzB,QAAAA,cAAF;AAAkB5B,QAAAA;AAAlB,OAAjB,CAA3B,CAAN;AACD;;AAED,UAAMsD,6BAA6B,GAAG,MAAM,gEAAiC,KAAK9D,OAAtC,CAA5C;;AACA,QAAI8D,6BAAJ,EAAmC;AACjC,YAAM,gEACJvC,GADI,EAEJ2B,cAFI,EAGJ,KAAKlD,OAAL,CAAa+D,MAHT,EAIJD,6BAJI,CAAN;AAMD,KAPD,MAOO;AACL,YAAM,oCACJvC,GADI,EAEJ,KAAIyC,0DAAJ,EAAgC;AAC9B5B,QAAAA,cAD8B;AAE9B5B,QAAAA,gBAF8B;AAG9ByD,QAAAA,QAAQ,EAAER;AAHoB,OAAhC,CAFI,CAAN;AAQD;AACF;;AAED,QAAMf,oCAAN,CAA2CnB,GAA3C,EAAyD2C,eAAzD,EAA8F;AAC5F,UAAM;AACJC,MAAAA,gBADI;AAEJC,MAAAA,aAFI;AAGJC,MAAAA,YAHI;AAIJC,MAAAA,aAJI;AAKJC,MAAAA;AALI,QAMF,KAAKvE,OANT;AAOA,UAAMwE,mBAAmB,GACvBL,gBAAgB,IAChBC,aADA,IAEAC,YAFA,IAGAC,aAHA,IAIAC,wBALF;;AAMA,QAAIC,mBAAJ,EAAyB;AACvB,YAAM;AAAEpC,QAAAA,cAAF;AAAkB5B,QAAAA;AAAlB,UAAuC0D,eAA7C;AACA,YAAMO,YAAY,GAAG,KAAKC,2BAAL,EAArB;AACA,YAAM,KAAKP,gBAAL,CAAsB5C,GAAtB,EAA2Ba,cAA3B,EAA2C5B,gBAA3C,EAA6DiE,YAA7D,CAAN;AACD;AACF;;AAED,QAAMN,gBAAN,CACE5C,GADF,EAEEa,cAFF,EAGE5B,gBAHF,EAIEiE,YAJF,EAKiB;AACf,UAAME,mBAAmB,GAAG,KAAK3E,OAAL,CAAa4E,iBAAzC;AACA,UAAMlD,cAAc,GAAG,KAAK1B,OAAL,CAAa2B,MAAb,IAAuB,KAAK3B,OAAL,CAAa2B,MAAb,CAAoBD,cAAlE;AACA,UAAM+B,gBAAgB,GAAG,MAAMlC,GAAG,CAACyB,GAAJ,CAAQU,WAAR,CAAoBtB,cAApB,EAAoC5B,gBAApC,CAA/B;;AACA,QAAIiE,YAAY,CAAChB,gBAAb,IAAiCA,gBAArC,EAAuD;AACrD,YAAM,KAAIoB,4BAAJ,EAAkBF,mBAAlB,EAAuCjD,cAAvC,EAAuDoD,cAAvD,CACJvD,GADI,EAEJkC,gBAFI,CAAN;AAID;;AAED,UAAMsB,OAAO,GAAG,MAAMxD,GAAG,CAACyB,GAAJ,CAAQgC,UAAR,CAAmB5C,cAAnB,EAAmC5B,gBAAnC,CAAtB;;AACA,QAAIiE,YAAY,CAACM,OAAb,IAAwBA,OAA5B,EAAqC;AACnC,YAAM,KAAIE,mCAAJ,EAAkBN,mBAAlB,EAAuCjD,cAAvC,EAAuDoD,cAAvD,CAAsEvD,GAAtE,EAA2EwD,OAA3E,CAAN;AACD;;AAED,UAAM7B,cAAc,GAAG,MAAM3B,GAAG,CAACyB,GAAJ,CAAQG,iBAAR,CAA0Bf,cAA1B,EAA0C5B,gBAA1C,CAA7B;AACA,UAAM0E,mBAAmB,GAAG,MAAM3D,GAAG,CAACyB,GAAJ,CAAQmC,sBAAR,CAChC/C,cADgC,EAEhC5B,gBAFgC,CAAlC;;AAIA,QAAIiE,YAAY,CAACS,mBAAb,IAAoCA,mBAAxC,EAA6D;AAC3D,YAAM,KAAIE,mDAAJ,EAA8BT,mBAA9B,EAAmDjD,cAAnD,EAAmEoD,cAAnE,CACJvD,GADI,EAEJ2B,cAFI,CAAN;AAID;;AAED,UAAMmC,QAAQ,GAAG,MAAM9D,GAAG,CAACyB,GAAJ,CAAQsC,WAAR,CAAoBlD,cAApB,EAAoC5B,gBAApC,CAAvB;;AACA,QAAIiE,YAAY,CAACY,QAAb,IAAyBA,QAA7B,EAAuC;AACrC,YAAM9D,GAAG,CAACyB,GAAJ,CAAQuC,cAAR,CAAuBnD,cAAvB,EAAuC5B,gBAAvC,CAAN;AACD;AACF;;AAEDkE,EAAAA,2BAA2B,GAAwB;AACjD,UAAM;AACJP,MAAAA,gBADI;AAEJC,MAAAA,aAFI;AAGJC,MAAAA,YAHI;AAIJC,MAAAA,aAJI;AAKJC,MAAAA;AALI,QAMF,KAAKvE,OANT;AAOA,UAAMwF,eAAe,GAAG;AACtB/B,MAAAA,gBAAgB,EAAEgC,OAAO,CAACtB,gBAAgB,IAAIC,aAArB,CADH;AAEtBW,MAAAA,OAAO,EAAEU,OAAO,CAACtB,gBAAgB,IAAIE,YAArB,CAFM;AAGtB;AACAgB,MAAAA,QAAQ,EAAEI,OAAO,CAACtB,gBAAgB,IAAIG,aAArB,CAJK;AAKtBY,MAAAA,mBAAmB,EAAEO,OAAO,CAACtB,gBAAgB,IAAII,wBAArB;AALN,KAAxB;AAOA,WAAO,uBAAOiB,eAAP,CAAP;AACD;;AAED,QAAMpF,wBAAN,GAAiC;AAC/B,QAAI,KAAKJ,OAAL,CAAaK,SAAjB,EAA4B;AAC1B,aAAOqF,SAAP;AACD,KAFD,MAEO;AACL,aAAO,MAAM,KAAKC,mBAAL,EAAb;AACD;AACF;;AAEDC,EAAAA,QAAQ,GAAG;AACT,WAAO7E,uBAAUC,GAAjB;AACD,GA5OkC,CA8OnC;;;AACA,QAAML,YAAN,GAAqB;AACnB,QAAI;AACF,YAAMkF,IAAI,GAAG,oBAAI,KAAKpF,QAAT,EAAmB,UAAnB,EAA+B,KAAKA,QAAL,CAAcoF,IAA7C,CAAb;AACA,YAAM,wCAA0BA,IAA1B,CAAN;AACD,KAHD,CAGE,OAAOC,GAAP,EAAY;AACZ,UAAIA,GAAG,YAAYlF,eAAnB,EAA6B;AAC3B,cAAMkF,GAAN;AACD,OAFD,MAEO,CACL;AACD;AACF;AACF;;AA1PkC;;eA6PtBnG,U","file":"../../../../commands/build/ios/IOSBuilder.js","sourceRoot":"/expo-cli@3.13.2/src"}